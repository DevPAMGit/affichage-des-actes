<?xml version="1.0" encoding="UTF-8"?>
<model xmlns="http://www.alfresco.org/model/dictionary/1.0" name="stockageactes59:stockageacte">
    <description>Modèles pour l'affichage des actes du CD59 </description>
    <author>ANDRIANAIVO MICHEL</author>
    <imports>
        <import uri="http://www.alfresco.org/model/content/1.0" prefix="cm"/>
        <import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
    </imports>
    <namespaces>
        <namespace uri="http://cd59.fr/model/stockageacte/1.0." prefix="stockageactes59"/>
    </namespaces>

    <types>

        <type name="stockageactes59:dossierActes">
            <title>Dossier de tous les actes</title>
            <description>Dossiers de stockage des actes du département du Nord.</description>
            <parent>cm:folder</parent>
            <properties />
            <associations />
            <!--
            <mandatory-aspects>
                <aspect>stockageactes59:informationDossier</aspect>
            </mandatory-aspects>
            -->
        </type>

        <type name="stockageactes59:dossierAnnee">
            <title>Dossier de tous les actes pour une année</title>
            <description>Dossier de stockage pour les actes du département du Nord pour une année.</description>
            <parent>cm:folder</parent>
            <properties>
                <property name="stockageactes59:annee">
                    <title>L'année des actes contenus</title>
                    <description>L'année des actes contenus</description>
                    <type>d:int</type>
                    <mandatory>true</mandatory>
                </property>
            </properties>
        </type>

        <type name="stockageactes59:dossierMois">
            <title>Dossier de tous les actes pour un mois dans année</title>
            <description>Dossier de stockage pour les actes du département du Nord pour un mois dans une année</description>
            <parent>stockageactes59:dossierAnnee</parent>
            <properties>

                <property name="stockageactes59:mois">
                    <title>Le mois des actes contenus</title>
                    <description>Le mois des actes</description>
                    <type>d:int</type>
                    <mandatory>true</mandatory>
                </property>

            </properties>
        </type>

        <type name="stockageactes59:dossierJour">
            <title>Dossier de tous les actes pour un jour dans un mois de l'année</title>
            <description>Dossier de stockage pour les actes du département du Nord pour un jour dans un mois de l'année</description>
            <parent>stockageactes59:dossierMois</parent>
            <properties>

                <property name="stockageactes59:jour">
                    <title>Le jour des actes contenus</title>
                    <description>Le jour des actes contenus</description>
                    <type>d:int</type>
                    <mandatory>true</mandatory>
                </property>

            </properties>
        </type>

        <type name="stockageactes59:dossierTypologie">
            <title>Dossier pour tous les actes d'un type pour un jour dans un mois de l'année</title>
            <description>Dossier de stockage pour les actes du département du Nord d'un type pour un jour dans un mois de l'année</description>
            <parent>stockageactes59:dossierJour</parent>
            <properties>

                <property name="stockageactes59:typologieDossier">
                    <title>Le type des actes contenus</title>
                    <description>Le type des actes contenus</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

            </properties>
        </type>

        <type name="stockageactes59:dossierActe">
            <title>Dossier pour un acte</title>
            <description>Dossier de stockage pour un acte</description>
            <parent>stockageactes59:dossierTypologie</parent>
            
            <properties>
                
                <property name="stockageactes59:identifiant">
                    <title>L'identifiant du dossier</title>
                    <description>L'identifiant du dossier</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

                <property name="stockageactes59:sigleDirection">
                    <title>Sigle de la direction</title>
                    <description>Sigle de la direction</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

                <property name="stockageactes59:objet">
                    <title>Objet</title>
                    <description>Objet</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

                <property name="stockageactes59:date">
                    <title>Objet</title>
                    <description>Objet</description>
                    <type>d:date</type>
                    <mandatory>true</mandatory>
                </property>

                <property name="stockageactes59:signataire">
                    <title>Signataire</title>
                    <description>Signataire</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

                <property name="stockageactes59:resume">
                    <title>Résumé</title>
                    <description>Résumé de l'acte</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

            </properties>

        </type>


        <type name="stockageactes59:fichier">
            <title>Une fichier du dossier d'acte</title>
            <description>Un fichier du dossier d'acte</description>
            <parent>cm:content</parent>

            <properties>

                <property name="stockageactes59:typologieFichier">
                    <title>Typologie du document</title>
                    <description>La typologie</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

                <property name="stockageactes59:empreinte">
                    <title>Empreinte</title>
                    <description>Empreinte</description>
                    <type>d:text</type>
                    <mandatory>true</mandatory>
                </property>

            </properties>

        </type>
        
        <type name="stockageactes59:acteOriginal">
            <title>L'acte original</title>
            <description>L'acte original</description>
            <parent>stockageactes59:fichier</parent>
            <properties />
            <associations />
        </type>

        <type name="stockageactes59:annexe">
            <title>Annexe</title>
            <description>Annexe</description>
            <parent>stockageactes59:fichier</parent>
            <properties />
            <associations />
        </type>
        
    </types>

    <aspects>
        <aspect name="stockageactes59:informationDossier">
            <title>Informations dossier</title>
            <description>Informations sur le dossier</description>
            <properties>
                
                <property name="stockageactes59:nbActes">
                    <title>Nombre d'actes</title>
                    <description>Le nombre d'actes contenus dans le dossier</description>
                    <type>d:int</type>
                    <mandatory>true</mandatory>
                    <default>0</default>
                </property>
                
                <property name="stockageactes59:nbActesEnErreurs">
                    <title>Le nombre d'actes en erreurs</title>
                    <description>Le nombre d'actes en erreur contenu dans le dossier.</description>
                    <type>d:int</type>
                    <mandatory>true</mandatory>
                    <default>0</default>
                </property>

                <property name="stockageactes59:nbActesTraites">
                    <title>Le nombre d'actes traités</title>
                    <description>Le nombre d'actes traité contenu dans le dossier.</description>
                    <type>d:int</type>
                    <mandatory>true</mandatory>
                    <default>0</default>
                </property>
                
            </properties>
        </aspect>
    </aspects>

</model>